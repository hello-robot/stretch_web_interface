<!DOCTYPE HTML>

<html>
  <head>
  </head>

  <body>

    <div id="video-display-div">
      <video id="video-display" autoplay></video>
    </div>

    <div>
      <div id="simState"></div>
      <button id="toggleSimState"></button>
    </div>

    <div id="debug-text">
      N/A
    </div>

    <link rel="stylesheet" type="text/css" href="robot.css" media="screen" />

    <script type='text/javascript'>
      var inSim = localStorage.getItem('inSim') == "true" ? true : false;

      if (inSim) {
        document.getElementById("simState").innerHTML = "You are running in simulation mode";
        document.getElementById("toggleSimState").textContent = "Switch to physical robot";
        document.getElementById("toggleSimState").onclick = function () {
          localStorage.setItem("inSim", false);
          location.reload();
        }
      } else {
        document.getElementById("simState").innerHTML = "You are running on the physical robot";
        document.getElementById("toggleSimState").textContent = "Switch to simulation mode";
        document.getElementById("toggleSimState").onclick = function () {
          localStorage.setItem("inSim", true);
          location.reload();
        }
      }
    </script>

    <script src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script src="https://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" integrity="sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/ey98U3t2vZ0qQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="../shared/commands.js"></script>
    <script src="../shared/video_dimensions.js"></script>
    <script src="robot.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script src="../shared/send_recv_av.js"></script>
    <script src="../shared/sensors.js"></script>
    <script src="robot_acquire_av.js"></script>
    <script src="ros_connect.js"></script>
    
    <script type='text/javascript' >
      function runOnOpenDataChannel() {
      // When the robot and the operator are first connected, switch to navigation mode.
      //console.log('starting in navigation mode')
      //turnModeOn('nav')
      sendTfs();
      }
    </script>
  </body>
</html>
